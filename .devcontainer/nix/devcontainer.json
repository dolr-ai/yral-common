{
    "name": "Nix dev container",
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu-latest",
    "features": {
        "ghcr.io/devcontainers/features/nix:latest": {
            "extraNixConfig": "experimental-features = nix-command flakes",
            "packages": "nixfmt-unstable,nixd,direnv"
        }
    },
    "customizations": {
        "vscode": {
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "terminal.integrated.profiles.linux": {
                    "bash": {
                        "path": "/bin/bash",
                        "args": [
                            "-l"
                        ]
                    }
                }
            },
            "extensions": [
                "vscodevim.vim",
                "rust-lang.rust-analyzer",
                "mkhl.direnv"
            ]
        }
    }
}